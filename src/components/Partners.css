/* ============================================
   PARTNERS & CLIENTS (Original / Dedicated Page)
   ============================================ */

.partners {
  background: linear-gradient(to bottom, #D0E4F0 0%, var(--color-bg-secondary) 100%);
  /* Stronger Sky Blue -> White Fade */
  transition: background-color var(--transition-theme);
  padding-bottom: var(--spacing-md);
}

.partners-header {
  text-align: center;
  margin-bottom: var(--spacing-xl);
}

/* Marquee Styles */
.partners-marquee-wrapper {
  position: relative;
  width: 100%;
  overflow: hidden;
  mask-image: linear-gradient(to right,
      transparent,
      black 15%,
      black 85%,
      transparent);
  -webkit-mask-image: linear-gradient(to right,
      transparent,
      black 15%,
      black 85%,
      transparent);
  padding: var(--spacing-md) 0;
}

.partners-marquee-track {
  display: flex;
  gap: 2rem;
  /* Reduced to 32px */
  width: max-content;
  padding: var(--spacing-sm);
  animation: marquee 20s linear infinite;
  /* Increased speed */
  will-change: transform;
  transform: translate3d(0, 0, 0);
  /* Hardware acceleration */
}

.partners-marquee-track:hover,
.partners-marquee-track:active {
  animation-play-state: paused;
}

@keyframes marquee {
  0% {
    transform: translate3d(0, 0, 0);
  }

  100% {
    transform: translate3d(-50%, 0, 0);
  }
}


.partner-card {
  background: rgba(15, 23, 42, 0.6);
  /* Darker background */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  padding: var(--spacing-md);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  /* Subtle border */
  text-align: center;
  cursor: pointer;
  transition: all var(--transition-base);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  flex: 0 0 auto;
  min-width: 200px;
  max-width: 240px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.partner-card:hover {
  box-shadow: 0 0 30px rgba(58, 90, 138, 0.4);
  border-color: var(--color-professional-blue);
  background: rgba(15, 23, 42, 0.8);
  transform: translateY(-5px);
}

[data-theme="dark"] .partner-card {
  background: rgba(5, 5, 5, 0.6);
  border-color: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .partner-card:hover {
  background: rgba(5, 5, 5, 0.8);
}

.partner-logo {
  font-size: 3.5rem;
  margin-bottom: var(--spacing-sm);
  transition: transform var(--transition-base);
}

.partner-name {
  font-size: 1.1rem;
  color: var(--color-text);
  /* Ensure text is visible, might need adjustment if background is very dark */
  font-weight: 500;
  transition: color var(--transition-theme);
}

/* Ensure text is light on dark card */
.partner-name {
  color: #e2e8f0;
}


/* Centered Modal */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2001;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-md);
  pointer-events: none;
  width: 100%;
  height: 100%;
}

.modal {
  background: var(--color-bg-secondary);
  border-radius: 24px;
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
  box-shadow: var(--shadow-lg);
  pointer-events: auto;
  transition: background-color var(--transition-theme);
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--color-bg);
  color: var(--color-text);
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast);
  z-index: 1;
  border: 1px solid var(--color-border);
}

.modal-close:hover {
  background: var(--color-professional-blue);
  color: white;
  transform: rotate(90deg) scale(1.1);
  border-color: var(--color-professional-blue);
  box-shadow: 0 4px 12px rgba(58, 90, 138, 0.4);
}

[data-theme="dark"] .modal-close:hover {
  background: var(--color-professional-blue-light);
  box-shadow: 0 4px 16px rgba(90, 138, 154, 0.5);
}

.modal-content {
  padding: var(--spacing-xl);
  text-align: center;
}

.modal-logo {
  font-size: 5rem;
  margin-bottom: var(--spacing-md);
}

.modal-title {
  font-size: 1.75rem;
  color: var(--color-navy);
  margin-bottom: var(--spacing-sm);
  transition: color var(--transition-theme);
}

[data-theme="dark"] .modal-title {
  color: var(--color-steel-blue);
}

.modal-project {
  font-size: 1.25rem;
  color: var(--color-professional-blue);
  margin-bottom: var(--spacing-md);
  font-weight: 500;
}

.modal-description {
  color: var(--color-text);
  line-height: 1.8;
  margin-bottom: var(--spacing-md);
  text-align: left;
  transition: color var(--transition-theme);
}

.modal-impact {
  padding: var(--spacing-md);
  background: var(--color-bg);
  border-radius: 12px;
  color: var(--color-text);
  text-align: left;
  border-left: 4px solid var(--color-professional-blue);
  transition: background-color var(--transition-theme), color var(--transition-theme);
}

.modal-impact strong {
  color: var(--color-professional-blue);
  display: block;
  margin-bottom: var(--spacing-xs);
}

@media (max-width: 768px) {

  /* Typography & Spacing Updates */
  .partners-home,
  .partners-dedicated {
    padding-top: 40px;
    /* Tighter transition from Hero */
    padding-bottom: 40px;
  }

  .partners-home .partners-header,
  .partners-dedicated .partners-header {
    margin-bottom: 32px;
    /* Consistent gap to marquee */
    padding: 0 16px;
  }

  .partners-home .partners-subheading,
  .partners-dedicated .partners-subheading {
    font-size: 1.5rem;
    /* ~24px */
    letter-spacing: 0.1em;
    /* Maintain spacing */
    line-height: 1.2;
    margin-bottom: 8px;
  }

  .partners-home .partners-label,
  .partners-dedicated .partners-label {
    font-size: 0.875rem;
    /* text-sm */
    padding: 0 10px;
  }

  /* Grid & Card Updates */
  .partners-grid {
    gap: var(--spacing-md);
  }

  .partner-card {
    padding: var(--spacing-sm);
    min-width: 140px;
    /* Maintain logo fit */
    max-width: 160px;
    flex: 0 0 auto;
    /* Ensure tap target is good */
    height: 140px;
    /* Square on mobile too? Or slightly adjusting height? */
    /* Previous was 240px square. 140px square is good for mobile. */
    height: 140px;
    border-radius: 16px;
  }

  .partners-marquee-track {
    gap: 1.5rem;
    /* Sufficient gap */
  }

  .partners-marquee-wrapper {
    /* Restore masks for mobile if desired, or keep full width. 
       User didn't explicitly ask for mask return, but "Logo Fit" implies seeing them clearly. 
       Let's keep the user's previous "remove masks" preference unless screen edge cut-off is ugly.
       The previous code HAD masks in mobile media query (lines 267-270). 
       The user request said "Ensure... logos... remain centered... don't appear too small".
       I will keep the masks as they were in the previous mobile block to avoid regression, 
       or remove them if the 'Home Page Variant' logic (lines 433) overrides it.
       Actually, `partners-home` styles at 433 force `mask-image: none`. 
       If I put masks here, they might conflict or be needed. 
       Let's stick to the previous state for masks: they were enabled in mobile query. */
    mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
  }

  .partner-logo {
    font-size: 2.5rem;
    /* Fallback for text icons */
  }

  /* Ensure images in cards are sized correctly for the smaller 140px card */
  .partners-home .partner-logo,
  .partners-dedicated .partner-logo {
    padding: 15%;
    /* Reduce padding slightly to maximize logo size in smaller card */
  }

  .modal {
    max-width: 90%;
    /* Ensure it doesn't touch edges */
    margin: auto;
  }

  .modal-content {
    padding: var(--spacing-md);
  }
}

/* ============================================
   SHARED CARD STYLES (Unified Aesthetic)
   ============================================ */

/* Common base for both variants */
.partners-home .partner-card,
.partners-dedicated .partner-card {
  background: rgba(255, 255, 255, 0.7);
  /* Frosted Glass */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  /* 1px White Border */
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
  /* Soft ambient shadow */

  /* Exact Square Dimensions */
  width: 240px;
  height: 240px;
  min-width: 240px;
  max-width: 240px;

  padding: 0;
  /* Content padding handled by logo container */
  opacity: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  cursor: pointer;
  transition: all 0.3s ease;
}

.partners-home .partner-card:hover,
.partners-dedicated .partner-card:hover {
  background: rgba(255, 255, 255, 0.9);
  transform: translateY(-4px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
  /* Slightly stronger shadow on hover */
  border-color: rgba(255, 255, 255, 0.8);
}

/* Logo Styling - Centered with Padding */
.partners-home .partner-logo,
.partners-dedicated .partner-logo {
  width: 100%;
  height: 100%;
  padding: 20%;
  /* 20% Internal Padding */
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
}

.partners-home .partner-logo img,
.partners-dedicated .partner-logo img {
  width: 100%;
  /* Take up available space inside padding */
  height: 100%;
  object-fit: contain;
  /* Contain */
  transform: none;
  /* Reset any scale */
  filter: none;
  opacity: 1;
  transition: transform 0.3s ease;
}

.partners-home .partner-card:hover .partner-logo img,
.partners-dedicated .partner-card:hover .partner-logo img {
  transform: scale(1.05);
  /* Subtle zoom on hover */
}

.partners-home .partner-logo svg,
.partners-dedicated .partner-logo svg {
  display: none;
}

/* Hide card names on cards (as per design, likely titles are for modal) */
.partners-home .partner-name,
.partners-dedicated .partner-name {
  display: none;
}


/* ============================================
   HOME PAGE VARIANT (Full Edge-to-Edge Slider)
   ============================================ */

.partners-home {
  background: transparent;
  padding-top: 100px;
  padding-bottom: 100px;
  margin-top: 0;
  border-top: none;
  width: 100%;
  overflow: hidden;
  /* Prevent horizontal scrollbar on body */
}

/* Override container for full width marquee */
.partners-home .container {
  max-width: 100% !important;
  width: 100% !important;
  padding: 0;
  margin: 0;
}

/* Header needs to be constrained though */
.partners-home .partners-header {
  margin-bottom: 80px;
  padding: 0 2rem;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.partners-home .partners-subheading {
  font-family: 'Space Grotesk', 'Montserrat', 'Syne', sans-serif;
  font-weight: 700;
  font-size: 3rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #1E293B;
  margin: 0;
  line-height: 1.1;
}

.partners-home .partners-label {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 1.1rem;
  color: #64748B;
  margin: 0;
  letter-spacing: 0.05em;
  text-transform: none;
}

/* Full Width Marquee - No Masks */
.partners-home .partners-marquee-wrapper {
  mask-image: none !important;
  -webkit-mask-image: none !important;
  width: 100%;
  padding: 20px 0;
}

.partners-home .partners-marquee-track {
  gap: 48px;
  padding: 20px 0;
  /* Use wrapper padding mostly, keep track clean */
}

/* ============================================
   DEDICATED PAGE VARIANT (Stable Grid)
   ============================================ */

.partners-dedicated {
  background: transparent;
  padding-top: 60px;
  padding-bottom: 100px;
}

.partners-dedicated .partners-header {
  margin-bottom: 80px;
  text-align: center;
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.partners-dedicated .partners-subheading {
  font-family: 'Space Grotesk', 'Montserrat', 'Syne', sans-serif;
  font-weight: 700;
  font-size: 3rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #1E293B;
  margin: 0;
  line-height: 1.1;
}

.partners-dedicated .partners-label {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 1.1rem;
  color: #64748B;
  margin: 0;
  letter-spacing: 0.05em;
}

/* Grid Wrapper */
.partners-grid-wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  /* Match card width approx */
  gap: 48px;
  max-width: 1200px;
  margin: 0 auto;
  justify-items: center;
  padding: 0 20px;
}

/* Dark Mode Adjustments */
[data-theme="dark"] .partners-home .partner-card,
[data-theme="dark"] .partners-dedicated .partner-card {
  background: rgba(255, 255, 255, 0.05);
  /* Light glass */
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: none;
}

[data-theme="dark"] .partners-home .partner-card:hover,
[data-theme="dark"] .partners-dedicated .partner-card:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .partners-home .partners-subheading,
[data-theme="dark"] .partners-dedicated .partners-subheading {
  color: #E2E8F0;
}

[data-theme="dark"] .partners-home .partners-label,
[data-theme="dark"] .partners-dedicated .partners-label {
  color: #94A3B8;
}

/* ============================================
   MODAL CLEANUP & STYLING
   ============================================ */

.modal-content {
  padding: var(--spacing-xl);
  text-align: center;
  /* Centered content */
  display: flex;
  flex-direction: column;
  align-items: center;
}

.modal-logo {
  height: 120px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--spacing-md);
}

.modal-logo img {
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
}

.modal-title {
  font-family: 'Space Grotesk', 'Inter', sans-serif;
  /* Requested Font */
  font-size: 1.75rem;
  font-weight: 600;
  /* Semi-Bold */
  color: var(--color-navy);
  margin-bottom: var(--spacing-sm);
}

.modal-project {
  font-size: 1.1rem;
  color: var(--color-professional-blue);
  margin-bottom: var(--spacing-md);
  font-weight: 500;
}

.modal-description {
  color: var(--color-text);
  line-height: 1.6;
  margin-bottom: var(--spacing-md);
  text-align: center;
  /* Center aligned */
  max-width: 90%;
}

.modal-impact {
  width: 100%;
  padding: 20px;
  background: rgba(239, 246, 255, 0.8);
  /* Soft blue highlight (e.g., blue-50) */
  border-radius: 12px;
  color: var(--color-text);
  text-align: center;
  /* Center aligned */
  border-left: none;
  /* Remove side border */
  border: 1px solid rgba(59, 130, 246, 0.2);
  /* Subtle blue border */
}

/* Dark mode modal overrides */
[data-theme="dark"] .modal-impact {
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] .modal-title {
  color: #fff;
}